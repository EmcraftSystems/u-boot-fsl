/*
 * Copyright (C) 2017 EmCraft Systems
 * Yuri Tikhonov <yur@emcraft.com>
 *
 * SPDX-License-Identifier:     GPL-2.0+
 */

#ifndef _BD71837_PMIC_H_
#define _BD71837_PMIC_H_

#define BD71837_NAME			"BD71837"

/*
 * LDOx_VOLT fields
 */
#define LDO_VOLT_EN			(1 << 6)

/*
 * BD71837 registers
 */
enum {
	BD71837_REG_REV			= 0x00,
	BD71837_REG_SWRESET		= 0x01,
	BD71837_REG_I2C_DEV		= 0x02,
	BD71837_REG_PWRCTRL0		= 0x03,
	BD71837_REG_PWRCTRL1		= 0x04,
	BD71837_REG_BUCK1_CTRL		= 0x05,
	BD71837_REG_BUCK2_CTRL		= 0x06,
	BD71837_REG_BUCK3_CTRL		= 0x07,
	BD71837_REG_BUCK4_CTRL		= 0x08,
	BD71837_REG_BUCK5_CTRL		= 0x09,
	BD71837_REG_BUCK6_CTRL		= 0x0A,
	BD71837_REG_BUCK7_CTRL		= 0x0B,
	BD71837_REG_BUCK8_CTRL		= 0x0C,
	BD71837_REG_BUCK1_VOLT_RUN	= 0x0D,
	BD71837_REG_BUCK1_VOLT_IDLE	= 0x0E,
	BD71837_REG_BUCK1_VOLT_SUSP	= 0x0F,
	BD71837_REG_BUCK2_VOLT_RUN	= 0x10,
	BD71837_REG_BUCK2_VOLT_IDLE	= 0x11,
	BD71837_REG_BUCK3_VOLT_RUN	= 0x12,
	BD71837_REG_BUCK4_VOLT_RUN	= 0x13,
	BD71837_REG_BUCK5_VOLT		= 0x14,
	BD71837_REG_BUCK6_VOLT		= 0x15,
	BD71837_REG_BUCK7_VOLT		= 0x16,
	BD71837_REG_BUCK8_VOLT		= 0x17,
	BD71837_REG_LDO1_VOLT		= 0x18,
	BD71837_REG_LDO2_VOLT		= 0x19,
	BD71837_REG_LDO3_VOLT		= 0x1A,
	BD71837_REG_LDO4_VOLT		= 0x1B,
	BD71837_REG_LDO5_VOLT		= 0x1C,
	BD71837_REG_LDO6_VOLT		= 0x1D,
	BD71837_REG_LDO7_VOLT		= 0x1E,
	BD71837_REG_TRANS_COND0		= 0x1F,
	BD71837_REG_TRANS_COND1		= 0x20,
	BD71837_REG_VRFAULTEN		= 0x21,
	BD71837_REG_MVRFLTMASK0		= 0x22,
	BD71837_REG_MVRFLTMASK1		= 0x23,
	BD71837_REG_MVRFLTMASK2		= 0x24,
	BD71837_REG_RCVCFG		= 0x25,
	BD71837_REG_RCVNUM		= 0x26,
	BD71837_REG_PWRONCONFIG0	= 0x27,
	BD71837_REG_PWRONCONFIG1	= 0x28,
	BD71837_REG_RESETSRC		= 0x29,
	BD71837_REG_MIRQ		= 0x2A,
	BD71837_REG_IRQ			= 0x2B,
	BD71837_REG_IN_MON		= 0x2C,
	BD71837_REG_POW_STATE		= 0x2D,
	BD71837_REG_OUT32K		= 0x2E,
	BD71837_REG_REGLOCK		= 0x2F,
	BD71837_REG_OTPVER		= 0xFF,

	BD71837_NUM_OF_REGS		= 0x100,
};

int power_bd71837_init(unsigned char bus);

#endif /* _BD71837_PMIC_H_ */
